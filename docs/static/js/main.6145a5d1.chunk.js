(this["webpackJsonpzukunftsfonds-mobile-site"]=this["webpackJsonpzukunftsfonds-mobile-site"]||[]).push([[0],{100:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),l=n.n(r),c=n(14),o=n.n(c),i=n(3),s=n(9),u=n(1),m=n(41),d=n.n(m),f=Object(s.b)({key:"language",default:"en"}),E=Object(s.b)({key:"searchQuery",default:""}),h=Object(s.b)({key:"searchResults",default:[]}),p=n(7),g=new function e(){var t=this;Object(p.a)(this,e),this.loadMessages=function(e){t.messages[e]=n(87)("./messages_".concat(e,".json"))},this.t=function(e,n){return n in t.messages&&e in t.messages[n]?t.messages[n][e]:e},this.messages={},this.loadMessages("de")},v=n(48),b=n(42),k=(n(89),{"crm:E18_Physical_Thing":"md-pin","crm:E21_Person":"md-account","crm:E74_Group":"md-accounts"}),j=function(e){var t=function(t){var n=t.index,a=t.style,r=e.results[n];return l.a.createElement("div",{className:"search-result",style:a,onClick:function(){return e.onSelect(e.results[n])}},l.a.createElement(u.Ripple,{modifier:"light-gray"}),l.a.createElement(u.Icon,{icon:k[r.crmClass]}),l.a.createElement("label",null,r.properties.title))};return l.a.createElement("div",{className:"search-results"},l.a.createElement(b.a,null,(function(n){var a=n.height,r=n.width;return l.a.createElement(v.a,{height:a,itemCount:e.results.length,itemSize:58,width:r},t)})))},y=function(e){var t=e.item,n=e.store,a=e.navigator,r=C(t,n);return l.a.createElement(u.Page,{className:"profile place",renderToolbar:function(){return l.a.createElement(u.Toolbar,null,l.a.createElement("div",{className:"left"},l.a.createElement(u.BackButton,null,"Back")),l.a.createElement("div",{className:"center"},t.properties.title))}},t.description.map((function(e,t){return l.a.createElement("div",{key:t,className:"description"},e.value)})),r.map((function(e,t){var n;return l.a.createElement("div",{key:t,className:"residence",onClick:I(e,a)},l.a.createElement("span",{className:"title"},e.properties.title),(null===(n=e.geometry)||void 0===n?void 0:n.title)&&l.a.createElement("span",{className:"location"},e.geometry.title))})))},N=n(121),O=n(123),_=n(122),w=n(43),T=n.n(w),P=(n(92),{"crm:E18_Physical_Thing":function(e){var t=Object(r.useRef)(),n=e.item,a=e.navigator,c=e.store;Object(r.useEffect)((function(){t.current&&t.current.leafletElement.fitBounds(function(e){var t=T()(e);return[[t[1],t[0]],[t[3],t[2]]]}(n))}),[n]);var o=S(n,c);return l.a.createElement(u.Page,{className:"profile place",renderToolbar:function(){return l.a.createElement(u.Toolbar,null,l.a.createElement("div",{className:"left"},l.a.createElement(u.BackButton,null,"Back")),l.a.createElement("div",{className:"center"},n.properties.title))}},l.a.createElement("div",{className:"map-container"},l.a.createElement(N.a,{ref:t,zoomControl:!1,style:{height:"200px"}},l.a.createElement(O.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.a.createElement(_.a,{data:n}))),n.description.map((function(e,t){return l.a.createElement("div",{key:t,className:"description"},e.value)})),o.map((function(e,t){return l.a.createElement("div",{key:t,className:"actor",onClick:I(e,a)},l.a.createElement("span",{className:"title"},e.properties.title))})))},"crm:E21_Person":y}),L=function(e){return P[e.crmClass]},I=function(e,t){return function(n){return t.pushPage({component:L(e),item:e})}},C=function(e,t){return e.relations.filter((function(e){return"crm:P74_has_current_or_former_residence"===e.relationType})).map((function(e){return t.getPlaceWithLocation(e.relationTo)}))},S=function(e,t){var n=e.relations.find((function(e){return"crm:P53_has_former_or_current_location"===e.relationType}));return(null===n||void 0===n?void 0:n.relationTo)?t.getActorsWithResidence(n.relationTo):[]},B=(n(95),function(e){var t=Object(s.c)(f),n=Object(s.c)(E),a=Object(s.d)(E),r=Object(s.c)(h),c=Object(s.d)(h),o=function(t){var r=t.target.value.toLowerCase();if(n!==r){a(r);var l=e.store.searchAll(r);c(l)}},i=function(){a(""),c([])};return l.a.createElement(u.Page,{className:"search",renderToolbar:function(){return l.a.createElement(u.Toolbar,null,l.a.createElement("div",{className:"left"},l.a.createElement(u.BackButton,null)),l.a.createElement("div",{className:"center"},l.a.createElement(u.Input,{value:n,placeholder:g.t("Search",t),onChange:o})),l.a.createElement("div",{className:"right"},l.a.createElement(u.ToolbarButton,null,l.a.createElement(u.Icon,{icon:"md-close",onClick:i}))))}},l.a.createElement(j,{results:r,onSelect:function(t){return e.navigator.pushPage({component:L(t),item:t})}}))}),x=(n(96),function(e){var t=Object(s.c)(f),n=Object(s.d)(f);return l.a.createElement(u.Page,{className:"side-menu"},l.a.createElement(u.List,null,l.a.createElement(u.ListItem,{onClick:function(){return e.navigator.pushPage({component:B})}},l.a.createElement(u.Icon,{icon:"md-search"}),l.a.createElement("label",null,g.t("Search",t)))),l.a.createElement(u.List,null,l.a.createElement(u.ListHeader,null,l.a.createElement(u.Icon,{icon:"md-info-outline"}),l.a.createElement("label",null,g.t("Information",t))),l.a.createElement(u.ListItem,null,l.a.createElement("label",null,g.t("Help",t))),l.a.createElement(u.ListItem,{className:"projects"},l.a.createElement("div",null,l.a.createElement("label",null,g.t("Projects",t)),l.a.createElement("ul",null,l.a.createElement("li",null,"Orthodoxes Wien"),l.a.createElement("li",null,"Oberhollabrunn")))),l.a.createElement(u.ListItem,null,l.a.createElement("label",null,g.t("About Us",t)))),l.a.createElement(u.List,null,l.a.createElement(u.ListHeader,null,l.a.createElement(u.Icon,{icon:"md-walk"}),l.a.createElement("label",null,g.t("Walking Tours",t))),l.a.createElement(u.ListItem,null,l.a.createElement("label",null,"Oberhollabrunn"))),l.a.createElement(u.List,{className:"set-language"},l.a.createElement(u.ListHeader,null,l.a.createElement(u.Icon,{icon:"md-translate"}),l.a.createElement("label",null,g.t("Language",t))),l.a.createElement(u.ListItem,null,l.a.createElement("label",{className:"left"},l.a.createElement(u.Radio,{inputId:"EN",name:"EN",onChange:function(){return n("en")},checked:"en"===t})),l.a.createElement("label",{htmlFor:"EN",className:"center"},"English")),l.a.createElement(u.ListItem,null,l.a.createElement("label",{className:"left"},l.a.createElement(u.Radio,{inputId:"DE",name:"DE",onChange:function(){return n("de")},checked:"de"===t})),l.a.createElement("label",{htmlFor:"DE",className:"center"},"Deutsch"))))}),H=(n(97),function(e){var t=Object(r.useState)(!1),n=Object(a.a)(t,2),c=n[0],o=n[1],i=[l.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/cf/Hollabrunn.jpg"}),l.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/cf/Hollabrunn.jpg"}),l.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/cf/Hollabrunn.jpg"})];return l.a.createElement(u.Page,null,l.a.createElement(u.Splitter,null,l.a.createElement(u.SplitterContent,null,l.a.createElement(u.Page,{renderToolbar:function(){return l.a.createElement(u.Toolbar,null,l.a.createElement("div",{className:"center"},"Die Orthodoxen in \xd6sterreich"),l.a.createElement("div",{className:"right"},l.a.createElement(u.ToolbarButton,{onClick:function(){return o(!0)}},l.a.createElement(u.Icon,{icon:"md-menu"}))))}},l.a.createElement("div",{style:{height:"300px",position:"relative"}},l.a.createElement(d.a,{mouseTracking:!0,autoWidth:!0,autoHeight:!0,disableDotsControls:!0,disableButtonsControls:!0,paddingLeft:3,paddingRight:3,items:i})))),l.a.createElement(u.SplitterSide,{animation:"overlay",mode:"collapse",side:"right",collapse:!0,width:"300px",isOpen:c,onClose:function(){return o(!1)}},l.a.createElement(x,{navigator:e.navigator}))))}),W=(n(98),n(99),n(120)),D=(n(100),function(e){return l.a.createElement(s.a,null,l.a.createElement(u.Navigator,{renderPage:function(t,n){return l.a.createElement(t.component,Object(i.a)(Object(i.a)({},t),{},{navigator:n,key:Object(W.a)(),store:e.store}))},initialRoute:{component:H},animation:"slide",swipeable:!0}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(20),z=n(18),A=n(46),U=n.n(A),F=n(47),M=function(){function e(){Object(p.a)(this,e),this.actors=[],this.events=[],this.places=[],this.search=new F.a("@id"),this.search.tokenizer={tokenize:function(e){return e.split(/[\s,-]+/)}},this.search.addIndex(["properties","title"])}return Object(z.a)(e,[{key:"load",value:function(){var e=this,t=function(e){return U.a.get("data/api/items_".concat(e,".json")).then((function(e){return e.data[0].reduce((function(e,t){return e.concat(t.features)}),[])}))};return Promise.all([t("actor"),t("event"),t("place")]).then((function(t){var n=Object(a.a)(t,3),r=n[0],l=n[1],c=n[2];e.actors=r,e.events=l,e.places=c,e.search.addDocuments([].concat(Object(R.a)(r),Object(R.a)(c)))}))}},{key:"findById",value:function(e){return this.items.find((function(t){return t["@id"]===e}))}},{key:"searchAll",value:function(e){return this.search.search(e.toLowerCase())}},{key:"getPlaceWithLocation",value:function(e){return this.places.find((function(t){return t.relations.find((function(t){return t.relationTo===e&&"crm:P53_has_former_or_current_location"===t.relationType}))}))}},{key:"getActorsWithResidence",value:function(e){return this.actors.filter((function(t){return t.relations.find((function(t){return t.relationTo===e&&"crm:P74_has_current_or_former_residence"===t.relationType}))}))}}]),e}(),J=function(){var e=Object(r.useState)(!0),t=Object(a.a)(e,2),n=t[0],c=t[1],o=new M;return o.load().then((function(){return c(!1)})),l.a.createElement(l.a.Fragment,null,n?l.a.createElement("div",null,"Loading"):l.a.createElement(D,{store:o}))};o.a.render(l.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t,n){e.exports=n(117)},87:function(e,t,n){var a={"./messages_de.json":88};function r(e){var t=l(e);return n(t)}function l(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=l,e.exports=r,r.id=87},88:function(e){e.exports=JSON.parse('{"Search":"Suche","Help":"Hilfe","Projects":"Projekte","About Us":"\xdcber Uns","Walking Tours":"Spazierg\xe4nge","Language":"Sprache"}')},89:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){}},[[49,1,2]]]);
//# sourceMappingURL=main.6145a5d1.chunk.js.map