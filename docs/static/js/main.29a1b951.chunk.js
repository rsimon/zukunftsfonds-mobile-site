(this["webpackJsonpzukunftsfonds-mobile-site"]=this["webpackJsonpzukunftsfonds-mobile-site"]||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},118:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),l=n.n(r),c=n(14),o=n.n(c),i=n(4),s=n(9),u=n(1),m=Object(s.b)({key:"language",default:window.localStorage.getItem("zukunftsfonds.language")||"en"}),d=Object(s.b)({key:"searchQuery",default:""}),h=Object(s.b)({key:"searchResults",default:[]}),f=n(10),E=new function e(){var t=this;Object(f.a)(this,e),this.loadMessages=function(e){t.messages[e]=n(68)("./messages_".concat(e,".json"))},this.t=function(e){return function(n){return e in t.messages&&n in t.messages[e]?t.messages[e][n]:n}},this.messages={},this.loadMessages("de")},p=function(){var e=Object(s.d)(m);return E.t(e)},g=function(){var e=Object(s.d)(m);return function(t){return-1===t.indexOf("------------")?t:"de"===e?t.split("------------")[0].trim():t.split("------------")[1].trim()}},v=n(56),b=n(47),O=(n(70),{"crm:E18_Physical_Thing":"md-pin","crm:E21_Person":"md-account","crm:E74_Group":"md-accounts"}),k=function(e){var t=function(t){var n=t.index,a=t.style,r=e.results[n];return l.a.createElement("div",{className:"search-result",style:a,onClick:function(){return e.onSelect(e.results[n])}},l.a.createElement(u.Ripple,{modifier:"light-gray"}),l.a.createElement(u.Icon,{icon:O[r.crmClass]}),l.a.createElement("label",null,r.properties.title))};return l.a.createElement("div",{className:"search-results"},l.a.createElement(b.a,null,(function(n){var a=n.height,r=n.width;return l.a.createElement(v.a,{height:a,itemCount:e.results.length,itemSize:58,width:r},t)})))},y=n(48),N=n.n(y),j=n(49),_=(n(106),n(107),function(e){return e?e.filter((function(e){return 0===e.url.indexOf("http")})):[]}),I=function(e){return _(e.depictions).length>0},w=function(e){var t=Object(r.useState)(null),n=Object(a.a)(t,2),c=n[0],o=n[1],i=_(e.depictions),s=i.map((function(e,t){return l.a.createElement("div",{className:"image-wrapper"},l.a.createElement("div",{className:"inner"},l.a.createElement("img",{src:e.url,alt:e.title,onClick:function(){return o(t)}})))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"image-carousel"},l.a.createElement(N.a,{mouseTracking:!0,disableDotsControls:!0,disableButtonsControls:!0,autoWidth:!0,items:s})),c&&l.a.createElement(j.a,{mainSrc:i[c].url}))},P=(n(38),function(e){var t=p(),n=g(),a=e.item,r=e.store,c=e.navigator,o=z(a,r);return l.a.createElement(W,{backButton:!0,className:"profile actor",title:a.properties.title,navigator:e.navigator},a.description.map((function(e,t){return l.a.createElement("div",{key:t,className:"description"},n(e.value))})),I(a)&&l.a.createElement(w,{depictions:a.depictions}),l.a.createElement(u.List,{className:"related places",dataSource:o,renderHeader:function(){return l.a.createElement(u.ListHeader,null,l.a.createElement(u.Icon,{icon:"md-pin"}),l.a.createElement("label",null,t("Places")))},renderRow:function(e,t){return l.a.createElement(u.ListItem,{key:t,className:"related residence",onClick:B(e,c)},l.a.createElement("span",{className:"title"},e.properties.title))}}))}),L=n(142),S=n(144),C=n(143),x=n(51),T=n.n(x),D=(n(110),{"crm:E18_Physical_Thing":function(e){var t=p(),n=g(),a=Object(r.useRef)(),c=e.item,o=e.navigator,i=e.store;Object(r.useEffect)((function(){a.current&&a.current.leafletElement.fitBounds(function(e){var t=T()(e);return[[t[1],t[0]],[t[3],t[2]]]}(c))}),[c]);var s=G(c,i);return l.a.createElement(W,{backButton:!0,className:"profile place",title:c.properties.title,navigator:e.navigator},l.a.createElement("div",{className:"map-container"},l.a.createElement(L.a,{ref:a,zoomControl:!1,style:{height:"200px"}},l.a.createElement(S.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.a.createElement(C.a,{data:c}))),c.description.map((function(e,t){return l.a.createElement("div",{key:t,className:"description"},n(e.value))})),I(c)&&l.a.createElement(w,{depictions:c.depictions}),l.a.createElement(u.List,{className:"related actors",dataSource:s,renderHeader:function(){return l.a.createElement(u.ListHeader,null,l.a.createElement(u.Icon,{icon:"md-account"}),l.a.createElement("label",null,t("People")))},renderRow:function(e,t){return l.a.createElement(u.ListItem,{key:t,className:"related residence",onClick:B(e,o)},l.a.createElement("span",{className:"title"},e.properties.title))}}))},"crm:E21_Person":P,"crm:E74_Group":P}),H=function(e){return D[e.crmClass]},B=function(e,t){return function(n){return t.pushPage({component:H(e),item:e})}},z=function(e,t){return e.relations.filter((function(e){return"crm:P74_has_current_or_former_residence"===e.relationType})).map((function(e){return t.getPlaceWithLocation(e.relationTo)}))},G=function(e,t){var n=e.relations.find((function(e){return"crm:P53_has_former_or_current_location"===e.relationType}));return(null===n||void 0===n?void 0:n.relationTo)?t.getActorsWithResidence(n.relationTo):[]},R=(n(113),function(e){var t=p(),n=Object(s.d)(d),a=Object(s.e)(d),r=Object(s.d)(h),c=Object(s.e)(h),o=function(t){var r=t.target.value.toLowerCase();if(n!==r){a(r);var l=e.store.searchAll(r);c(l)}},i=function(){a(""),c([])};return l.a.createElement(u.Page,{className:"search",renderToolbar:function(){return l.a.createElement(u.Toolbar,null,l.a.createElement("div",{className:"left"},l.a.createElement(u.BackButton,null)),l.a.createElement("div",{className:"center"},l.a.createElement(u.Input,{value:n,placeholder:t("Search"),onChange:o})),l.a.createElement("div",{className:"right"},l.a.createElement(u.ToolbarButton,null,l.a.createElement(u.Icon,{icon:"md-close",onClick:i}))))}},l.a.createElement(k,{results:r,onSelect:function(t){return e.navigator.pushPage({component:H(t),item:t})}}))}),A=(n(114),function(e){var t=Object(s.c)(m),n=Object(a.a)(t,2),r=n[0],c=n[1],o=p(),i=function(e){c(e),window.localStorage.setItem("zukunftsfonds.language",e)};return l.a.createElement(u.Page,{className:"side-menu"},l.a.createElement(u.List,null,l.a.createElement(u.ListItem,{onClick:function(){return e.navigator.pushPage({component:U})}},l.a.createElement(u.Icon,{icon:"md-home"}),l.a.createElement("label",null,o("Home"))),l.a.createElement(u.ListItem,{onClick:function(){return e.navigator.pushPage({component:R})}},l.a.createElement(u.Icon,{icon:"md-search"}),l.a.createElement("label",null,o("Search")))),l.a.createElement(u.List,null,l.a.createElement(u.ListHeader,null,l.a.createElement(u.Icon,{icon:"md-info-outline"}),l.a.createElement("label",null,o("Information"))),l.a.createElement(u.ListItem,null,l.a.createElement("label",null,o("Help"))),l.a.createElement(u.ListItem,{className:"projects"},l.a.createElement("div",null,l.a.createElement("label",null,o("Projects")),l.a.createElement("ul",null,l.a.createElement("li",null,"Orthodoxes Wien"),l.a.createElement("li",null,"Oberhollabrunn")))),l.a.createElement(u.ListItem,null,l.a.createElement("label",null,o("About Us")))),l.a.createElement(u.List,null,l.a.createElement(u.ListHeader,null,l.a.createElement(u.Icon,{icon:"md-walk"}),l.a.createElement("label",null,o("Walking Tours"))),l.a.createElement(u.ListItem,{onClick:function(){return new Promise((function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(){return t()})):t()})).then((function(e){return console.log(e)})).catch((function(){return console.log("rejected or not available")}))}},l.a.createElement("label",null,"Oberhollabrunn"))),l.a.createElement(u.List,{className:"set-language"},l.a.createElement(u.ListHeader,null,l.a.createElement(u.Icon,{icon:"md-translate"}),l.a.createElement("label",null,o("Language"))),l.a.createElement(u.ListItem,null,l.a.createElement("label",{className:"left"},l.a.createElement(u.Radio,{inputId:"EN",name:"EN",onChange:function(){return i("en")},checked:"en"===r})),l.a.createElement("label",{htmlFor:"EN",className:"center"},"English")),l.a.createElement(u.ListItem,null,l.a.createElement("label",{className:"left"},l.a.createElement(u.Radio,{inputId:"DE",name:"DE",onChange:function(){return i("de")},checked:"de"===r})),l.a.createElement("label",{htmlFor:"DE",className:"center"},"Deutsch"))))}),W=function(e){var t=Object(r.useState)(!1),n=Object(a.a)(t,2),c=n[0],o=n[1];return l.a.createElement(u.Page,{className:e.className},l.a.createElement(u.Splitter,null,l.a.createElement(u.SplitterContent,null,l.a.createElement(u.Page,{renderToolbar:function(){return l.a.createElement(u.Toolbar,null,e.backButton&&l.a.createElement(u.BackButton,null),l.a.createElement("div",{className:"center"},e.title),l.a.createElement("div",{className:"right"},l.a.createElement(u.ToolbarButton,{onClick:function(){return o(!0)}},l.a.createElement(u.Icon,{icon:"md-menu"}))))}},e.children)),l.a.createElement(u.SplitterSide,{animation:"overlay",mode:"collapse",side:"right",collapse:!0,width:"300px",isOpen:c,onClose:function(){return o(!1)}},l.a.createElement(A,{navigator:e.navigator}))))},U=(n(115),function(e){var t=p(),n=g();return l.a.createElement(W,{title:t("Orthodox Europe"),navigator:e.navigator},l.a.createElement("div",{className:"splash-page-container"},l.a.createElement("div",{className:"splash-image-container"},l.a.createElement("img",{className:"splash-image",src:"images/OrthodoxyInEurope.png",alt:"Orthodoxy in Europe - Map"})),l.a.createElement("div",{className:"splash-message"},l.a.createElement("h1",null,t("Digital Geoportal of the History of the Orthodox in Austria")),l.a.createElement("p",null,n('Das "Digitale Geoportal der Geschichte der Orthodoxen in \xd6sterreich" hat das Ziel, die Geschichte,\n   den Glauben und die Kultur der orthodoxen Kirchen und von deren Gl\xe4ubigen in Europa, mit einem Schwerpunkt \n   auf \xd6sterreich, mit Hilfe von wissenschaftlichen Projekten zu erforschen und einer breiten \xd6ffentlichkeit \n   zug\xe4nglich zu machen. ------------ The "Digital Geoportal of the History of the Orthodox in Austria" has the \n   aim to research the history, faith and culture of the Orthodox churches and their believers in Europe, with \n   a special emphasis on Austria, based on scholarly projects and to popularise all of the aforesaid aspects in \n   the general public.')))))}),F=(n(116),n(117),n(141)),M=(n(118),function(e){return l.a.createElement(s.a,null,l.a.createElement(u.Navigator,{renderPage:function(t,n){return l.a.createElement(t.component,Object(i.a)(Object(i.a)({},t),{},{navigator:n,key:e.key||Object(F.a)(),store:e.store}))},initialRoute:{component:U,key:"SplashPage"},animation:"slide",swipeable:!0}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(21),K=n(19),Q=n(54),Z=n.n(Q),$=n(55),q=function(){function e(){Object(f.a)(this,e),this.actors=[],this.places=[],this.search=new $.a("@id"),this.search.tokenizer={tokenize:function(e){return e.split(/[\s,-]+/)}},this.search.addIndex(["properties","title"])}return Object(K.a)(e,[{key:"load",value:function(){var e=this,t=function(e){return Z.a.get("data/items_".concat(e,".json")).then((function(e){return e.data[0].reduce((function(e,t){return e.concat(t.features)}),[])}))};return Promise.all([t("actor"),t("place")]).then((function(t){var n=Object(a.a)(t,2),r=n[0],l=n[1];e.actors=r,e.places=l,e.search.addDocuments([].concat(Object(J.a)(r),Object(J.a)(l)))}))}},{key:"findById",value:function(e){return this.items.find((function(t){return t["@id"]===e}))}},{key:"searchAll",value:function(e){return this.search.search(e.toLowerCase())}},{key:"getPlaceWithLocation",value:function(e){return this.places.find((function(t){return t.relations.find((function(t){return t.relationTo===e&&"crm:P53_has_former_or_current_location"===t.relationType}))}))}},{key:"getActorsWithResidence",value:function(e){return this.actors.filter((function(t){return t.relations.find((function(t){return t.relationTo===e&&"crm:P74_has_current_or_former_residence"===t.relationType}))}))}}]),e}(),V=n(8),X=n.n(V);delete X.a.Icon.Default.prototype._getIconUrl,X.a.Icon.Default.mergeOptions({iconRetinaUrl:n(135),iconUrl:n(136),shadowUrl:n(137)});var Y=function(){var e=Object(r.useState)(!0),t=Object(a.a)(e,2),n=t[0],c=t[1],o=new q;return o.load().then((function(){return c(!1)})),l.a.createElement(l.a.Fragment,null,n?l.a.createElement("div",null,"Loading"):l.a.createElement(M,{store:o}))};o.a.render(l.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,n){},57:function(e,t,n){e.exports=n(138)},68:function(e,t,n){var a={"./messages_de.json":69};function r(e){var t=l(e);return n(t)}function l(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=l,e.exports=r,r.id=68},69:function(e){e.exports=JSON.parse('{"About Us":"\xdcber Uns","Help":"Hilfe","Home":"Startseite","Language":"Sprache","Orthodox Europe":"Orthodoxes Europa","People":"Personen","Places":"Orte","Projects":"Projekte","Search":"Suche","Walking Tours":"Spazierg\xe4nge","Digital Geoportal of the History of the Orthodox in Austria":"Digitales Geoportal der Geschichte der Orthodoxen in \xd6sterreich"}')},70:function(e,t,n){}},[[57,1,2]]]);
//# sourceMappingURL=main.29a1b951.chunk.js.map