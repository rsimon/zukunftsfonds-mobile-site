{"version":3,"sources":["store/State.js","i18n/index.js","search/ResultList.jsx","profiles/RelatedItems.js","profiles/ImageSlider.jsx","profiles/ActorProfile.jsx","profiles/Utils.js","profiles/PlaceProfile.jsx","search/SearchPage.jsx","pages/projects/SerbsInVienna.jsx","SideMenu.jsx","tour/index.js","PageWithMenu.jsx","splash/SplashPage.jsx","App.js","splash/LoadingScreen.jsx","serviceWorker.js","store/DataStore.js","index.js","i18n sync /^/.//messages_.*/.json$"],"names":["languageState","atom","key","default","window","localStorage","getItem","searchQueryState","searchResultState","i18n","loadMessages","lang","messages","require","t","label","this","useI18N","useRecoilValue","useBilingual","description","indexOf","split","trim","ICONS","ResultList","props","Row","index","style","item","results","className","onClick","onSelect","modifier","icon","crmClass","properties","title","height","width","itemCount","length","itemSize","distinct","items","uris","map","filter","pos","RelatedItems","store","relevantTypes","places","relations","rel","includes","relationType","resolved","getPlaceWithLocation","relationTo","relation","p","obj","begins_in","ends_in","has_residence","all","location","find","getActorsWithLocation","getRelatedItems","getValidDepictions","depictions","d","url","hasDepictions","ImageSlider","useState","selected","setSelected","isLoading","setIsLoading","Promise","resolve","reject","img","Image","src","onload","onerror","then","images","idx","alt","mouseTracking","disableDotsControls","disableButtonsControls","autoWidth","mainSrc","prevSrc","prevIdx","getPrev","nextSrc","nextIdx","getNext","onMovePrevRequest","onMoveNextRequest","onCloseRequest","ActorProfile","getTranslation","navigator","relatedPlaces","backButton","value","dataSource","renderHeader","renderRow","r","navigateTo","PROFILE_COMPONENTS","mapRef","useRef","hasGeom","hasGeometry","useEffect","current","leafletElement","fitBounds","geojson","corners","bbox","getBounds","actors","Map","ref","zoomControl","TileLayer","attribution","GeoJSON","data","getProfileComponent","_","pushPage","component","geometry","type","geometries","coordinates","SearchPage","search","setSearch","useSetRecoilState","setResults","onSearch","evt","query","target","toLowerCase","searchAll","onClearSearch","renderToolbar","placeholder","onChange","result","DESCRIPTION_GERMAN","href","DESCRIPTION_ENGLISH","PAGE_TITLE","TEXT_TITLE","DESCRIPTION","Page","SideMenu","useRecoilState","language","setLanguage","onChangeLanguage","setItem","goTo","SplashPage","SerbsInVienna","geolocation","getCurrentPosition","console","log","catch","inputId","name","checked","htmlFor","PageWithMenu","isMenuOpen","setMenuOpen","children","animation","mode","side","collapse","isOpen","onClose","App","renderPage","route","React","createElement","uuid","initialRoute","swipeable","LoadingScreen","indeterminate","Boolean","hostname","match","DataStore","JsSearch","tokenizer","tokenize","text","addIndex","loadFile","entityType","axios","get","response","reduce","next","concat","features","arr","addDocuments","id","i","place","actor","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","Launcher","load","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister","error","message","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","module","exports"],"mappings":"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","file":"static/js/main.131948b4.chunk.js","sourcesContent":["import { atom } from 'recoil';\n\nexport const languageState = atom({\n  key: 'language',\n  default: window.localStorage.getItem('zukunftsfonds.language') || 'en'\n});\n\nexport const searchQueryState = atom({\n  key: 'searchQuery',\n  default: ''\n});\n\nexport const searchResultState = atom({\n  key: 'searchResults',\n  default: []\n});","import { useRecoilValue } from 'recoil';\nimport { languageState } from '../store/State';\n\nclass I18N {\n\n  constructor() {\n    this.messages = {};\n\n    // For potential future extension\n    this.loadMessages('de');\n  }\n\n  loadMessages = lang => {\n    this.messages[lang] = require(`./messages_${lang}.json`);\n  }\n\n  t = lang => label =>\n    lang in this.messages && label in this.messages[lang] ?\n      this.messages[lang][label] : label;\n\n}\n\nconst i18n = new I18N();\n\n// Wrapping I18N in a cool helper hook\nexport const useI18N = () => {\n\n  const lang = useRecoilValue(languageState);\n  return i18n.t(lang);\n\n}\n\n// Just a tiny shorthand to use current language setting more easily\nexport const useLang = ()  =>\n  useRecoilValue(languageState)\n\n// Helper to handle the ad-hoc 'bilingual' description format of the project\nexport const useBilingual = () => {\n  \n  const lang = useRecoilValue(languageState);\n \n  return description => {\n    // Project convention: ------------ separates EN from DE\n    if (description.indexOf('------------') === -1) {\n      return description;\n    } else {\n      return lang === 'de' ? description.split('------------')[0].trim() : description.split('------------')[1].trim();\n    }\n  }\n\n}","import React from 'react';\nimport { FixedSizeList as List } from 'react-window';\nimport { Icon, Ripple } from 'react-onsenui';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\nimport './ResultList.scss';\n\nconst ICONS = {\n  'crm:E18_Physical_Thing': 'md-pin',\n  'crm:E21_Person': 'md-account',\n  'crm:E74_Group': 'md-accounts'\n}\n\nconst ResultList = props => {\n\n  const Row = ({ index, style }) => {\n    const item = props.results[index];\n\n    return (<div \n      className=\"search-result\" \n      style={style}\n      onClick={() => props.onSelect(props.results[index])}>\n\n      <Ripple modifier=\"light-gray\" />\n\n      <Icon icon={ICONS[item.crmClass]} />\n\n      <label>{item.properties.title}</label>\n    </div>)\n  }\n\n  return (\n    <div className=\"search-results\">\n      <AutoSizer>\n        {({ height, width}) => (\n          <List \n            height={height}\n            itemCount={props.results.length}\n            itemSize={58}\n            width={width}>\n            {Row}\n          </List>\n          )\n        }\n      </AutoSizer>\n    </div>\n  )\n\n}\n\nexport default ResultList;","// De-duplicates the list of items, using their URI for equality\nconst distinct = items => {\n  const uris = items.map(item => item['@id']);\n  return items.filter((item, pos) => uris.indexOf(item['@id']) === pos);\n}\n\n/** Helper class to deal with related places/actors more easily **/\nclass RelatedItems {\n\n  constructor(item, store) {\n    this.item = item;\n    this.store = store;\n  }\n\n  /**\n   * If this item is an actor, it will have places connected to it.\n   * This method performs a \"forward lookup\", based on the links\n   * included in this item.\n   * \n   * Returns an object with the following properties:\n   * \n   * places.begins_in\n   * places.ends_in\n   * places.has_residence\n   * places.all\n   * \n   * TODO should we memoize this?\n   */\n  get places() {\n    // Pick up the following CRM types\n    const relevantTypes = [\n      'crm:P74_has_current_or_former_residence',\n      'crm:OA8_begins_in',\n      'crm:OA9_ends_in'\n    ];\n\n    // Relations with these types\n    const relations = this.item.relations.filter(rel =>\n      relevantTypes.includes(rel.relationType));\n\n    // Resolve referred locations to places\n    const places = relations.map(rel => ({\n      label: rel.label, \n      relationType: rel.relationType,\n      resolved: this.store.getPlaceWithLocation(rel.relationTo)\n    }));\n\n    // Shorthand\n    const filter = relation =>\n      places.filter(p => p.relationType === relation).map(obj => obj.resolved);\n\n    // TODO add all unique places\n    return {\n      begins_in: filter('crm:OA8_begins_in'),\n      ends_in: filter('crm:OA9_ends_in'),\n      has_residence: filter('crm:P74_has_current_or_former_residence'),\n      all: distinct(places.map(p => p.resolved)) // TODO de-duplicate\n    }\n  }\n\n  /**\n   * If this item is a place, other items in the store will have\n   * connections to it. This method performs a \"reverse lookup\",\n   * fetching every actor from the store that references this\n   * place.\n   */\n  get actors() {\n    const location = this.item.relations.find(rel => \n      rel.relationType === 'crm:P53_has_former_or_current_location');\n\n    return location ?\n      this.store.getActorsWithLocation(location.relationTo) : [];\n  }\n\n}\n\nexport const getRelatedItems = (item, store) =>\n  new RelatedItems(item, store);","import React, { useState } from 'react';\nimport AliceCarousel from 'react-alice-carousel';\nimport Lightbox from 'react-image-lightbox';\n\nimport 'react-alice-carousel/lib/alice-carousel.css';\nimport 'react-image-lightbox/style.css';\n\nconst preload = url => new Promise((resolve, reject) => {\n  const img = new Image();\n  img.src = url;\n  img.onload = () => resolve();\n  img.onerror = () => reject();\n})\n\nconst getValidDepictions = depictions => depictions ? \n  depictions.filter(d => d.url.indexOf('http') === 0) : [];\n\nexport const hasDepictions = item => \n  getValidDepictions(item.depictions).length > 0;\n\nconst ImageSlider = props => {\n\n  const [ selected, setSelected ] = useState(null);\n  const [ isLoading, setIsLoading ] = useState(true);\n\n  const depictions = getValidDepictions(props.depictions);\n\n  Promise.all(depictions.map(d => preload(d.url))).then(() => \n    setIsLoading(false));\n\n  const getPrev = idx => {\n    if (selected !== null && depictions.length > 0) {\n      const prevIdx = (depictions.length + selected - 1) % depictions.length;\n      return depictions[prevIdx].url\n    }\n  }\n\n  const getNext = idx => {\n    if (selected !== null && depictions.length > 0) {\n      const nextIdx = (selected + 1) % depictions.length;\n      return depictions[nextIdx].url;\n    }\n  }\n\n  const images = depictions.map((d, idx) =>\n    <div className=\"image-wrapper\">\n      <div className=\"inner\">\n        <img src={d.url} alt={d.title} onClick={() => setSelected(idx)} />\n      </div>\n    </div>\n  )\n\n  return (\n    <>\n      <div className=\"image-carousel\">\n        { !isLoading && <AliceCarousel \n          mouseTracking\n          disableDotsControls\n          disableButtonsControls\n          autoWidth\n          items={images} /> }\n      </div>\n\n      { selected !== null && \n        <Lightbox \n          mainSrc={depictions[selected].url} \n          prevSrc={getPrev()}\n          nextSrc={getNext()}\n          onMovePrevRequest={() => setSelected((depictions.length + selected - 1) % depictions.length)}\n          onMoveNextRequest={() => setSelected((selected + 1) % depictions.length)}\n          onCloseRequest={() => setSelected(null) } />\n      }\n    </>\n  )\n\n}\n\nexport default ImageSlider;","import React from 'react';\nimport { Icon, List, ListHeader, ListItem } from 'react-onsenui';\nimport { navigateTo } from './Utils';\nimport { getRelatedItems } from './RelatedItems';\nimport PageWithMenu from '../PageWithMenu';\nimport { useI18N, useBilingual } from '../i18n';\nimport ImageSlider, { hasDepictions } from './ImageSlider';\n\nimport './Profile.scss';\n\nconst ActorProfile = props => {\n\n  const i18n = useI18N();\n\n  const getTranslation = useBilingual();\n\n  const { item, store, navigator } = props;\n\n  const relatedPlaces = getRelatedItems(item, store).places.all;\n\n  return (\n    <PageWithMenu \n      backButton\n      className=\"profile actor\"\n      title={item.properties.title}\n      navigator={props.navigator}>\n\n      { item.description.map((d, idx) => \n        <div key={idx} className=\"description\">{getTranslation(d.value)}</div>\n      )}\n\n      { hasDepictions(item) && \n        <ImageSlider depictions={item.depictions} />\n      }\n\n      <List\n        className=\"related places\"\n        dataSource={relatedPlaces}\n        renderHeader={() =>\n          <ListHeader>\n            <Icon icon=\"md-pin\" />\n            <label>{i18n('Places')}</label>\n          </ListHeader>\n        }\n        renderRow={(r, idx) => \n          <ListItem key={idx} className=\"related residence\" onClick={navigateTo(r, navigator)}>\n            <span className=\"title\">{r.properties.title}</span>\n          </ListItem>\n        } />\n    </PageWithMenu>\n  )\n\n}\n\nexport default ActorProfile;","import ActorProfile from '../profiles/ActorProfile';\nimport PlaceProfile from '../profiles/PlaceProfile';\n\nconst PROFILE_COMPONENTS = {\n  'crm:E18_Physical_Thing': PlaceProfile,\n  'crm:E21_Person': ActorProfile,\n  'crm:E74_Group': ActorProfile\n}\n\n/** Returns the right JSX profile component for this item **/\nexport const getProfileComponent = item => PROFILE_COMPONENTS[item.crmClass];\n\n/** Returns a handler function for navigating to the view appropriate to the given item **/\nexport const navigateTo = (item, navigator) => _ =>\n  navigator.pushPage({ component: getProfileComponent(item), item });\n\n/** Helper to determine whether the item has any non-empty geometries **/\nexport const hasGeometry = item => {\n  if (!item)\n    return false; \n\n  if (!item.geometry)\n    return false; \n\n  if (item.geometry.type === 'GeometryCollection')\n    return item.geometry.geometries?.length > 0 && item.geometry.geometries[0].coordinates;\n\n  return item.geometry?.coordinates?.length > 0;\n}","import React, { useEffect, useRef } from 'react';\nimport { Icon, List, ListHeader, ListItem } from 'react-onsenui';\nimport { GeoJSON, Map, TileLayer } from 'react-leaflet';\nimport bbox from '@turf/bbox';\nimport { getRelatedItems } from './RelatedItems';\nimport { navigateTo, hasGeometry } from './Utils';\nimport PageWithMenu from '../PageWithMenu';\nimport { useI18N, useBilingual } from '../i18n';\nimport ImageSlider, { hasDepictions } from './ImageSlider';\n\nimport 'leaflet/dist/leaflet.css';\nimport './Profile.scss';\n\nconst getBounds = geojson => {\n  const corners = bbox(geojson);\n  return [ // Leaflet order\n    [ corners[1], corners[0] ],\n    [ corners[3], corners[2] ]\n  ];\n}\n\nconst PlaceProfile = props => {\n\n  const i18n = useI18N();\n\n  const getTranslation = useBilingual();\n\n  const mapRef = useRef();\n\n  const { item, navigator, store } = props;\n\n  const hasGeom = hasGeometry(item);\n\n  useEffect(() => {\n    if (mapRef.current && hasGeom) {\n      const map = mapRef.current.leafletElement;\n      map.fitBounds(getBounds(item));\n    }\n  }, [ item, hasGeom ]);\n\n  const actors = getRelatedItems(item, store).actors;\n\n  return (\n    <PageWithMenu \n      backButton\n      className=\"profile place\"\n      title={item.properties.title}\n      navigator={props.navigator}>\n\n      <div className=\"map-container\">\n        <Map \n          ref={mapRef}\n          zoomControl={false}\n          style={{height:'200px'}}>\n          <TileLayer\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          { hasGeom && <GeoJSON data={item} /> }\n        </Map>\n      </div>\n\n      { item.description && item.description.map((d, idx) => \n        <div key={idx} className=\"description\">{getTranslation(d.value)}</div>\n      )}\n\n      { hasDepictions(item) && \n        <ImageSlider depictions={item.depictions} />\n      }\n\n      <List\n        className=\"related actors\"\n        dataSource={actors}\n        renderHeader={() =>\n          <ListHeader>\n            <Icon icon=\"md-account\" />\n            <label>{i18n('People')}</label>\n          </ListHeader>\n        }\n        renderRow={(r, idx) => \n          <ListItem key={idx} className=\"related residence\" onClick={navigateTo(r, navigator)}>\n            <span className=\"title\">{r.properties.title}</span>\n          </ListItem>\n        } />\n    </PageWithMenu>\n  )\n\n}\n\nexport default PlaceProfile;","import React from 'react';\nimport { BackButton, Icon, Page, Input, Toolbar, ToolbarButton } from 'react-onsenui';\nimport ResultList from './ResultList';\nimport { getProfileComponent } from '../profiles/Utils';\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\nimport { searchQueryState, searchResultState } from '../store/State';\nimport { useI18N }from '../i18n';\n\nimport './SearchPage.scss';\n\nconst SearchPage = props => {\n\n  const i18n = useI18N();\n\n  // We'll keep search state global, so we can persist across page navigation\n  const search = useRecoilValue(searchQueryState);\n  const setSearch = useSetRecoilState(searchQueryState);\n  \n  const results = useRecoilValue(searchResultState);\n  const setResults = useSetRecoilState(searchResultState);\n\n  const onSearch = evt => {\n    const query = evt.target.value.toLowerCase();\n\n    // For some weird reason, OnsenUI SearchInput also triggers\n    // onChange when losing focus, causing an unwanted re-render\n    if (search !== query) {\n      setSearch(query);\n\n      const results = props.store.searchAll(query);\n      setResults(results);\n    }\n  }\n\n  const onSelectResult = result =>\n    props.navigator.pushPage({ \n      component: getProfileComponent(result),\n      item: result \n    });\n\n  const onClearSearch = () => {\n    setSearch('');\n    setResults([]);\n  }\n\n  return (\n    <Page\n      className=\"search\"\n      renderToolbar={() => \n        <Toolbar>\n          <div className=\"left\">\n            <BackButton />\n          </div>\n\n          <div className=\"center\">\n            <Input\n              value={search}\n              placeholder={i18n('Search')}\n              onChange={onSearch} />\n          </div>\n          \n          <div className=\"right\">\n            <ToolbarButton>\n              <Icon icon=\"md-close\" onClick={onClearSearch} />\n            </ToolbarButton>\n          </div>\n        </Toolbar>\n      }>\n\n      <ResultList\n        results={results} \n        onSelect={onSelectResult} />\n    </Page>\n  )\n\n}\n\nexport default SearchPage;","import React from 'react';\nimport PageWithMenu from '../../PageWithMenu';\nimport { useLang } from '../../i18n';\n\nconst DESCRIPTION_GERMAN = \n  <>\n    <p className=\"project-description\">\n      In diesem Forschungsprojekt wurden biographische Daten zu den orthodoxen \n      Wiener SerbInnen von 1741 bis 1918, und hier zu bedeutenden Persönlichkeiten \n      des politischen, sozialen, wirtschaftlichen, wissenschaftlichen und \n      kulturellen Lebens der Zeit, in den Wiener Archiven, zu ihren Wohnorten und \n      zu ihren Wirkungsst&auml;tten in Wien recherchiert. Die biographischen Abrisse und \n      Lokalisierungen von Wohnorten und Wirkungsstätten wurden in eine OpenAtlas \n      Datenbank eingegeben und sind online über das &quot;Digitale Geoportal der Geschichte \n      der Orthodoxen in &Ouml;sterreich&quot; für interessierte InternetnutzerInnen frei \n      abrufbar. Die Daten umfassen insgesamt 282 Personen und 256 Orte. Solch eine \n      Forschung ist für Wien unter anderem deshalb von großer Bedeutung, weil die \n      Spuren berühmter SerbInnen in Wien derzeit lediglich mit einigen wenigen \n      Gedenktafeln im &ouml;ffentlichen Raum dokumentiert sind. Mit Hilfe des Geoportals \n      k&ouml;nnen Stadtspazierg&auml;nge gezielt geplant und interessante, historische \n      Pl&auml;tze aufgesucht werden.\n    </p>\n    <table className=\"project-meta\">\n      <tbody>\n        <tr>\n          <td>Laufzeit des Projekts:</td>\n          <td>1. J&auml;nner 2018-30. Juni 2019</td>\n        </tr>\n\n        <tr>\n          <td>Gef&ouml;rdert von:</td>\n          <td>Magistratsabteilung (MA) 7 –Kultur, Wissenschafts-und Forschungsf&ouml;rderung der Stadt Wien für 2017</td>            \n        </tr>\n\n        <tr>\n          <td>Siehe dazu im Detail:</td>\n          <td>\n            <a href=\"https://orthodoxes-europa.at/projekte/Digitales-Geoportal-der-Geschichte-der-SerbInnen-in-Wien\">\n              Digitales Geoportal der Geschichte der SerbInnen in Wien\n            </a>\n          </td>\n        </tr>\n    </tbody>\n    </table>\n  </>\n\nconst DESCRIPTION_ENGLISH = \n  <>\n    <p className=\"project-description\">\n      In this project research on the biographies of the Orthodox Viennese Serbs from 1741 until 1918, \n      i.e. significant personalities of the political, social, economic, scientific and cultural life of \n      the time, was conducted in Viennese archives as well as on their places of residence and of work \n      in Vienna. The biographical data and the respective localisations of places of residence and of \n      work were embedded into an OpenAtlas database and may be accessed freely online by the general \n      public via the &quot;Digital Geoportal of the History of the Orthodox in Austria&quot;. The data \n      comprises 282 personalities and 256 places. Such research is of great importance for Vienna, amongst \n      others, because the traces of famous Serbs in Vienna are currently only documented with a few \n      memorial plaques in public space. Based on the Geoportal specific city walks can be planned and \n      interesting, historic places can be visited.  \n    </p>\n    <table className=\"project-meta\">\n      <tbody>\n        <tr>\n          <td>Duration of the Project:</td>\n          <td>1 January 2018-30. June 2019</td>\n        </tr>\n\n        <tr>\n          <td>Sponsored by:</td>\n          <td>Magistratsabteilung (MA) 7 –Kultur, Wissenschafts-und Forschungsförderung der Stadt Wien für 2017</td> \n        </tr>\n\n        <tr>\n          <td>Cf. in detail:</td>\n          <td>\n            <a href=\"https://orthodoxes-europa.at/projekte/Digitales-Geoportal-der-Geschichte-der-SerbInnen-in-Wien\">\n              Digitales Geoportal der Geschichte der SerbInnen in Wien\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </>\n\nconst PAGE_TITLE = {\n  'de': 'SerbInnen in Wien 1741-1918',\n  'en': 'Serbs in Vienna 1741-1918'\n}\n\nconst TEXT_TITLE = {\n  'de': 'Ein digitales Geoportal der Geschichte der SerbInnen in Wien (1741-1918)',\n  'en': 'A Digital Geoportal of the History of the Serbs in Vienna (1741-1918)'\n}\n\nconst DESCRIPTION = {\n  'de': DESCRIPTION_GERMAN,\n  'en': DESCRIPTION_ENGLISH\n}\n\nconst Page = props => {\n\n  const lang = useLang();\n\n  return(\n    <PageWithMenu\n      title={PAGE_TITLE[lang]}\n      navigator={props.navigator}\n      backButton>\n      <div className=\"page-container\">\n        <h1>{TEXT_TITLE[lang]}</h1>\n        <div>\n          {DESCRIPTION[lang]}\n        </div>\n      </div>\n      <footer>\n        <img src=\"images/wienkultur_logo_RGB.png\" alt=\"Logo Wien Kultur\"></img>\n      </footer>\n    </PageWithMenu>\n  )\n}\n\nexport default Page;","import React from 'react';\nimport { Icon, List, ListHeader, ListItem, Page, Radio } from 'react-onsenui';\nimport { useRecoilState } from 'recoil';\nimport { languageState } from './store/State';\nimport { fetchUserLocation } from './tour';\nimport { useI18N } from './i18n';\n\nimport SearchPage from './search/SearchPage';\nimport SplashPage from './splash/SplashPage';\n\nimport SerbsInVienna from './pages/projects/SerbsInVienna';\n\nimport './SideMenu.scss';\n\nconst SideMenu = props => {\n\n  const [ language, setLanguage ] = useRecoilState(languageState);\n\n  const i18n = useI18N();\n\n  const onChangeLanguage = lang => {\n    setLanguage(lang);\n    window.localStorage.setItem('zukunftsfonds.language', lang);\n  }\n\n  const goTo = component => () =>\n    props.navigator.pushPage({ component });\n\n  // Just for testing\n  const onStartTour = () =>\n    fetchUserLocation()\n      .then(pos => console.log(pos))\n      .catch(() => console.log('rejected or not available'));\n\n  return (\n    <Page className=\"side-menu\">\n      <List>\n        <ListItem onClick={goTo(SplashPage)}>\n          <Icon icon=\"md-home\" />\n          <label>{i18n('Home')}</label>\n        </ListItem>\n        <ListItem onClick={goTo(SearchPage)}>\n          <Icon icon=\"md-search\" />\n          <label>{i18n('Search')}</label>\n        </ListItem>\n      </List>\n\n      <List>\n        <ListHeader>\n          <Icon icon=\"md-info-outline\" />\n          <label>{i18n('Information')}</label>\n        </ListHeader>\n\n        <ListItem>\n          <label>{i18n('Help')}</label>\n        </ListItem>  \n\n        <ListItem className=\"projects\">\n          <div>\n            <label>{i18n('Projects')}</label>\n            <ul>\n              <li onClick={goTo(SerbsInVienna)}>{i18n('Serbs in Vienna 1741-1918')}</li>\n              <li>Oberhollabrunn</li>\n            </ul>\n          </div>\n        </ListItem>\n      </List>\n      \n      <List>\n        <ListHeader>\n          <Icon icon=\"md-walk\" />\n          <label>{i18n('Walking Tours')}</label>\n        </ListHeader>\n        \n        <ListItem onClick={onStartTour}>\n          <label>Oberhollabrunn</label>\n        </ListItem>\n      </List>\n\n      <List className=\"set-language\">\n        <ListHeader>\n          <Icon icon=\"md-translate\" />\n          <label>{i18n('Language')}</label>\n        </ListHeader>\n        \n        <ListItem>\n          <label className=\"left\">\n            <Radio \n              inputId='EN' \n              name='EN' \n              onChange={() => onChangeLanguage('en')} \n              checked={language === 'en'} />\n          </label>\n          \n          <label htmlFor='EN' className=\"center\">\n            English\n          </label>\n        </ListItem>\n        <ListItem>\n          <label className=\"left\">\n            <Radio \n              inputId='DE' \n              name='DE' \n              onChange={() => onChangeLanguage('de')} \n              checked={language === 'de'} />\n          </label>\n          \n          <label htmlFor='DE' className=\"center\">\n            Deutsch\n          </label>\n        </ListItem>\n      </List>\n    </Page>\n  )\n\n}\n\nexport default SideMenu;","/**\n * Wraps the location API call into a proper Promise.\n * \n * Note that on Chrome, the Geolocation API only works on HTTPS.\n */\nexport const fetchUserLocation = () => new Promise((resolve, reject) => {\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(\n      pos => resolve(pos), // Success\n      () => reject() // Error\n    );\n  } else { \n    reject(); // Not supported\n  }\n});","import React, { useState } from 'react';\nimport { \n  BackButton,\n  Icon, \n  Page, \n  Splitter, \n  SplitterContent, \n  SplitterSide, \n  Toolbar, \n  ToolbarButton \n} from 'react-onsenui';\nimport SideMenu from './SideMenu';\n\nconst PageWithMenu = props => {\n\n  const [ isMenuOpen, setMenuOpen ] = useState(false);\n\n  return (\n    <Page className={props.className}>\n      <Splitter>\n        <SplitterContent>\n          <Page \n            renderToolbar={() => \n              <Toolbar>\n                { props.backButton &&\n                  <BackButton />\n                }\n                <div className=\"center\">\n                  { props.title }\n                </div>\n                <div className=\"right\">\n                  <ToolbarButton onClick={() => setMenuOpen(true)}>\n                    <Icon icon=\"md-menu\" />\n                  </ToolbarButton>\n                </div>\n              </Toolbar>\n            }>\n\n            { props.children }\n\n          </Page>\n        </SplitterContent>\n        <SplitterSide\n          animation=\"overlay\"\n          mode=\"collapse\"\n          side=\"right\"\n          collapse={true}\n          width=\"300px\"\n          isOpen={isMenuOpen}\n          onClose={() => setMenuOpen(false)}>\n\n          <SideMenu navigator={props.navigator} />\n\n        </SplitterSide>\n      </Splitter>\n    </Page>\n  )\n\n}\n\nexport default PageWithMenu;","import React from 'react';\nimport { Button, Icon } from 'react-onsenui';\nimport PageWithMenu from '../PageWithMenu';\nimport { useI18N, useBilingual } from '../i18n';\nimport SearchPage from '../search/SearchPage';\nimport SerbsInVienna from '../pages/projects/SerbsInVienna';\n\nimport './SplashPage.scss';\n\nconst SPLASH_MESSAGE = \n  `Das \"Digitale Geoportal der Geschichte der Orthodoxen in Österreich\" hat das Ziel, die Geschichte,\n   den Glauben und die Kultur der orthodoxen Kirchen und von deren Gläubigen in Europa, mit einem Schwerpunkt \n   auf Österreich, mit Hilfe von wissenschaftlichen Projekten zu erforschen und einer breiten Öffentlichkeit \n   zugänglich zu machen. ------------ The \"Digital Geoportal of the History of the Orthodox in Austria\" has the \n   aim to research the history, faith and culture of the Orthodox churches and their believers in Europe, with \n   a special emphasis on Austria, based on scholarly projects and to popularise all of the aforesaid aspects in \n   the general public.`\n\nconst SplashPage = props => {\n\n  const i18n = useI18N();\n\n  const getTranslation = useBilingual();\n\n  const goTo = component => () =>\n    props.navigator.pushPage({ component });\n  \n  return (\n    <PageWithMenu \n      title={i18n('Orthodox Europe')}\n      navigator={props.navigator}>\n\n      <div className=\"splash-page-container\">\n        <div className=\"splash-image-container\">\n          <img className=\"splash-image\" src=\"images/OrthodoxyInEurope.png\" alt=\"Orthodoxy in Europe - Map\" />\n        </div>\n\n        <div className=\"buttons\">\n          <Button modifier=\"large\" onClick={goTo(SearchPage)}>\n            <Icon icon=\"md-search\" />\n            <label>{i18n('Search')}</label>\n          </Button>\n        </div>\n\n        <div className=\"splash-message\">\n          <h1>\n            {i18n('Digital Geoportal of the History of the Orthodox in Austria')}\n          </h1>\n          <p>\n            {getTranslation(SPLASH_MESSAGE)}\n          </p>\n        </div>\n\n        <div className=\"projects\">\n          <h2>{i18n('Projects')}</h2>\n          <ol>\n            <li>\n              <Button modifier=\"large--quiet\" onClick={goTo(SerbsInVienna)}>\n                {i18n('Serbs in Vienna 1741-1918')}\n              </Button>\n            </li>\n          </ol>\n        </div>\n\n        <footer>\n\n        </footer>\n      </div>\n    </PageWithMenu>\n  )\n\n}\n\nexport default SplashPage;","import React from 'react';\nimport { RecoilRoot } from 'recoil';\nimport { Navigator } from 'react-onsenui';\nimport SplashPage from './splash/SplashPage';\nimport 'onsenui/css/onsenui.css';\nimport 'onsenui/css/onsen-css-components.css';\nimport { v4 as uuid } from 'uuid';\n\nimport './App.scss';\n\nconst App = props => {\n\n  const renderPage = (route, navigator) =>\n    React.createElement(route.component, { \n      ...route, \n      navigator, \n      key: props.key || uuid(), // Needs a key per definition and we want to re-render always\n      store: props.store\n    });\n\n  return (\n    <RecoilRoot>\n      <Navigator\n        renderPage={renderPage}\n        initialRoute={{ component: SplashPage, key: 'SplashPage' }} \n        animation=\"slide\"\n        swipeable />\n    </RecoilRoot>\n  );\n\n}\n\nexport default App;\n","import React from 'react';\nimport { ProgressCircular } from 'react-onsenui';\n\nimport './LoadingScreen.scss';\n\nconst LoadingScreen = props => {\n\n  return(\n    <div className=\"loading-screen\">\n      <div className=\"loading-wrapper\">\n        <label>Loading</label>\n        <div>\n          <ProgressCircular indeterminate />\n        </div>\n      </div>\n    </div>\n  )\n\n}\n\nexport default LoadingScreen;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import axios from 'axios';\nimport * as JsSearch from 'js-search';\n\n/**\n * Because (fortunately) our data is static, the data store\n * is just a convenience wrapper over the JSON data files. \n */\nexport default class DataStore {\n\n  constructor() {\n    this.actors = [];\n    this.places = [];\n\n    this.search = new JsSearch.Search('@id');   \n    this.search.tokenizer = {\n      tokenize(text) {\n        return text.split(/[\\s,-]+/)\n      }\n    };\n\n    this.search.addIndex([ 'properties', 'title' ]); \n  }\n\n  load() {\n    const loadFile = entityType => \n      axios.get(`data/items_${entityType}.json`).then(response =>\n        response.data[0].reduce((items, next) => items.concat(next.features), []));\n    \n    const responses = Promise.all([\n      loadFile('actor'),\n      loadFile('place')\n    ]);\n\n    return responses.then(arr => {\n      const [ actors, places ] = arr;\n      \n      this.actors = actors;\n      this.places = places;\n\n      this.search.addDocuments([ ...actors, ...places ]);\n    });\n  }\n\n  findById(id) {\n    return this.items.find(i => i['@id'] === id);\n  }\n\n  searchAll(query) {\n    return this.search.search(query.toLowerCase());\n  }\n\n  getPlaceWithLocation(id) {\n    return this.places.find(place => place.relations.find(rel => \n      rel.relationTo === id && rel.relationType === 'crm:P53_has_former_or_current_location'));\n  }\n\n  getActorsWithLocation(id) {\n    const relevantTypes = [\n      'crm:OA8_begins_in',\n      'crm:OA9_ends_in',\n      'crm:P74_has_current_or_former_residence'\n    ];\n\n    return this.actors.filter(actor => actor.relations.find(rel => \n      rel.relationTo === id && relevantTypes.includes(rel.relationType)));\n  }\n  \n}\n","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport LoadingScreen from './splash/LoadingScreen';\nimport * as serviceWorker from './serviceWorker';\nimport DataStore from './store/DataStore';\nimport L from 'leaflet';\n\n// Fix missing Leaflet marker images\n// Cf. https://github.com/PaulLeCam/react-leaflet/issues/453\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\n// A simple start helper that loads the data and then switches to the app\nconst Launcher = () => {\n\n  const [ isLoading, setIsLoading ] = useState(true);\n\n  const store = new DataStore();\n  store.load().then(() => setIsLoading(false));\n  \n  return (\n    <>{ isLoading ? <LoadingScreen /> : <App store={store} /> }</>\n  )\n\n}\n\nReactDOM.render(\n  <Launcher />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","var map = {\n\t\"./messages_de.json\": 69\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 68;"],"sourceRoot":""}